{"ast":null,"code":"var _jsxFileName = \"E:\\\\final_project\\\\Air_visca_frontend\\\\src\\\\screens\\\\SuperAdminScreen.js\",\n    _s = $RefreshSig$();\n\nimport Header from \"../components/Header\";\nimport React, { useState, useEffect } from \"react\";\nimport { Bar, Line, Doughnut } from 'react-chartjs-2';\nimport SuperAdminAPIService from \"../service/SuperAdminAPIService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SuperAdminScreen = props => {\n  _s();\n\n  const [TotalBookings, setTotalBookings] = useState(0);\n  const [cancelledBookings, setCancelledBookings] = useState(0);\n  const [airlines, setAirlines] = useState([]);\n  useEffect(() => {\n    console.log('component mounted!');\n    reloadTotalBookings();\n    reloadCancelledBookings();\n    reloadAirlines();\n  }, []);\n\n  const reloadTotalBookings = () => {\n    SuperAdminAPIService.getTotalBookings().then(res => {\n      console.log(res);\n      if (res.data.status == \"success\") setTotalBookings(res.data.data);\n    });\n  };\n\n  const reloadCancelledBookings = () => {\n    SuperAdminAPIService.getCancelledBookings().then(res => {\n      console.log(res);\n      if (res.data.status == \"success\") setCancelledBookings(res.data.data);\n    });\n  };\n\n  const reloadAirlines = () => {\n    SuperAdminAPIService.getAirlineRevenue().then(res => {\n      console.log(res);\n      if (res.data.status == \"success\") setAirlines(res.data.data);\n    });\n  };\n\n  const bookingData = {\n    labels: ['Successful Bookings %', 'Cancelled Bookings %'],\n    datasets: [{\n      label: '# of Bookings',\n      data: [Math.round((TotalBookings - cancelledBookings) / TotalBookings * 100), Math.round(cancelledBookings / TotalBookings * 100)],\n      //   borderColor:['rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)'],\n      backgroundColor: ['rgba(255,99,132,1)', 'rgba(255,205,86,1)']\n    }]\n  };\n  const bOptions = {\n    title: {\n      display: true,\n      text: '% Bookings'\n    }\n  };\n  const alabels = airlines.map(function (e) {\n    return e.airlineName;\n  });\n  const adata = airlines.map(function (e) {\n    return e.revenue;\n  });\n  const airlineData = {\n    labels: alabels,\n    datasets: [{\n      label: 'Airline',\n      data: adata,\n      //   borderColor:['rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)'],\n      backgroundColor: ['rgba(255,99,132,1)', 'rgba(54,162,235,1)', 'rgba(255,159,64,1)', 'rgba(153,102,255,1)']\n    }]\n  };\n  const aOptions = {\n    title: {\n      display: true,\n      text: 'Airline-wise Revenue(â‚¹)'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"SuperAdmin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-6 \",\n        children: /*#__PURE__*/_jsxDEV(Doughnut, {\n          data: bookingData,\n          options: bOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-6 \",\n        children: /*#__PURE__*/_jsxDEV(Doughnut, {\n          data: airlineData,\n          options: aOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SuperAdminScreen, \"mT6+3byphBHsFzEykDmVm38h97I=\");\n\n_c = SuperAdminScreen;\nexport default SuperAdminScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SuperAdminScreen\");","map":{"version":3,"sources":["E:/final_project/Air_visca_frontend/src/screens/SuperAdminScreen.js"],"names":["Header","React","useState","useEffect","Bar","Line","Doughnut","SuperAdminAPIService","SuperAdminScreen","props","TotalBookings","setTotalBookings","cancelledBookings","setCancelledBookings","airlines","setAirlines","console","log","reloadTotalBookings","reloadCancelledBookings","reloadAirlines","getTotalBookings","then","res","data","status","getCancelledBookings","getAirlineRevenue","bookingData","labels","datasets","label","Math","round","backgroundColor","bOptions","title","display","text","alabels","map","e","airlineName","adata","revenue","airlineData","aOptions"],"mappings":"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","sourcesContent":["import Header from \"../components/Header\"\r\nimport React,{ useState,useEffect } from \"react\";\r\nimport { Bar,Line,Doughnut } from 'react-chartjs-2';\r\nimport SuperAdminAPIService from \"../service/SuperAdminAPIService\";\r\n\r\nconst SuperAdminScreen = (props) =>{\r\n    const [TotalBookings,setTotalBookings]=useState(0);\r\n    const [cancelledBookings,setCancelledBookings]=useState(0);\r\n    const [airlines,setAirlines]=useState([]);\r\n\r\n    useEffect(()=>{\r\n        console.log('component mounted!')\r\n        reloadTotalBookings();\r\n        reloadCancelledBookings();\r\n        reloadAirlines();\r\n      },[])\r\n\r\n    const reloadTotalBookings=()=>{\r\n        SuperAdminAPIService.getTotalBookings()\r\n        .then((res) => {\r\n        console.log(res);\r\n        if (res.data.status == \"success\")\r\n          setTotalBookings(res.data.data);\r\n    });\r\n    }\r\n\r\n    const reloadCancelledBookings=()=>{\r\n        SuperAdminAPIService.getCancelledBookings()\r\n        .then((res) => {\r\n        console.log(res);\r\n        if (res.data.status == \"success\")\r\n          setCancelledBookings(res.data.data);\r\n    });\r\n    }\r\n\r\n    const reloadAirlines=() =>{\r\n        SuperAdminAPIService.getAirlineRevenue()\r\n            .then((res) => {\r\n              console.log(res);\r\n              if (res.data.status == \"success\")\r\n                setAirlines(res.data.data);\r\n        });\r\n    }\r\n\r\n    const bookingData={\r\n        labels:[\r\n            'Successful Bookings %',\r\n            'Cancelled Bookings %'\r\n        ],\r\n            datasets:[\r\n                {\r\n                      label:'# of Bookings',      \r\n                      data:[Math.round(((TotalBookings-cancelledBookings)/TotalBookings)*100),Math.round((cancelledBookings/TotalBookings)*100)],\r\n                    //   borderColor:['rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)'],\r\n                      backgroundColor:['rgba(255,99,132,1)','rgba(255,205,86,1)',],  \r\n                }\r\n                  \r\n            ]\r\n    }\r\n\r\n    const bOptions={\r\n        title:{\r\n            display:true,\r\n            text:'% Bookings'\r\n        },\r\n    }\r\n\r\n    const alabels =airlines.map(function (e) {\r\n        return e.airlineName;})\r\n    \r\n    const adata =airlines.map(function (e) {\r\n        return e.revenue;}) \r\n    \r\n    const airlineData={\r\n        labels:alabels,\r\n            datasets:[\r\n                {\r\n                    label:'Airline',      \r\n                    data:adata,\r\n                    //   borderColor:['rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)','rgba(229,98,67,1)'],\r\n                    backgroundColor:[ 'rgba(255,99,132,1)','rgba(54,162,235,1)','rgba(255,159,64,1)','rgba(153,102,255,1)',],  \r\n                }\r\n                \r\n            ]\r\n    }\r\n\r\n    const aOptions={\r\n        title:{\r\n            display:true,\r\n            text:'Airline-wise Revenue(â‚¹)'\r\n        },\r\n    }\r\n    return (\r\n        <div>\r\n            <Header title=\"SuperAdmin\"/>\r\n            <div class=\"row\" >\r\n              <div class=\"col-6 \">\r\n                <Doughnut  data={bookingData} options={bOptions}/></div>\r\n                <div class=\"col-6 \">\r\n                <Doughnut data={airlineData} options={aOptions}/></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuperAdminScreen"]},"metadata":{},"sourceType":"module"}