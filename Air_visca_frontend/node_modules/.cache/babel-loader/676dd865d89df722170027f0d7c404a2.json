{"ast":null,"code":"var _jsxFileName = \"E:\\\\final_project\\\\Air_visca_frontend\\\\src\\\\screens\\\\UpdateBookingScreen.js\";\nimport React, { Component } from \"react\";\nimport FlightAPIService from \"../service/FlightAPIService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UpdateBookingScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      airline: [],\n      message: null\n    };\n    this.updateBooking = this.updateBooking.bind(this);\n    this.reloadAirlineList = this.reloadAirlineList.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadAirlineList();\n  }\n\n  reloadAirlineList() {\n    console.log(window.sessionStorage.getItem(\"aid\"));\n    FlightAPIService.fetchFlightById(window.sessionStorage.getItem(\"aid\")).then(res => {\n      console.log(res);\n      if (res.data.status == \"success\") this.setState({\n        airline: res.data.data\n      });else this.props.history.push(\"/admin\");\n      console.log(this.state.airline);\n    });\n  }\n\n  updateBooking(aid) {\n    console.log(aid);\n    FlightAPIService.updateBooking(aid).then(res => {\n      this.setState({\n        message: \"Bookings updated successfully.\"\n      }); //   this.setState({\n      //     bookings: this.state.bookings.filter((booking) => booking.bookingId !== bookingId),\n      //   });\n      // console.log(aid);\n\n      this.props.history.push('/admin');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Update Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"hidden\",\n              children: \"Airline Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Airline Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Airline Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"From\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Departure Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Arrival Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Departure Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Arrival Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.airlineName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.airlineNo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.fromCity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.toCity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.departureDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.arrivalDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.departureTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.airline.arrivalTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: () => this.updateBooking(this.state.airline.id),\n                children: [\" \", \"Update All Bookings\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default UpdateBookingScreen;","map":{"version":3,"sources":["E:/final_project/Air_visca_frontend/src/screens/UpdateBookingScreen.js"],"names":["React","Component","FlightAPIService","UpdateBookingScreen","constructor","props","state","airline","message","updateBooking","bind","reloadAirlineList","componentDidMount","console","log","window","sessionStorage","getItem","fetchFlightById","then","res","data","status","setState","history","push","aid","render","id","airlineName","airlineNo","fromCity","toCity","departureDate","arrivalDate","departureTime","arrivalTime"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FlightAPIService from \"../service/FlightAPIService\";\r\n\r\nclass UpdateBookingScreen extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          airline: [],\r\n          message: null,\r\n        };\r\n        this.updateBooking = this.updateBooking.bind(this);\r\n    this.reloadAirlineList = this.reloadAirlineList.bind(this);\r\n      }\r\n      componentDidMount() {\r\n        this.reloadAirlineList();\r\n      }\r\n      reloadAirlineList() {\r\n          console.log(window.sessionStorage.getItem(\"aid\"));\r\n        FlightAPIService.fetchFlightById(window.sessionStorage.getItem(\"aid\"))\r\n            .then((res) => {\r\n              console.log(res);\r\n              if (res.data.status == \"success\")\r\n                this.setState({ airline: res.data.data });\r\n              else this.props.history.push(\"/admin\");\r\n              console.log(this.state.airline);\r\n        });\r\n      }\r\n      updateBooking(aid) {\r\n        console.log(aid);\r\n        FlightAPIService.updateBooking(aid).then((res) => {\r\n          this.setState({ message: \"Bookings updated successfully.\" });\r\n        //   this.setState({\r\n        //     bookings: this.state.bookings.filter((booking) => booking.bookingId !== bookingId),\r\n        //   });\r\n        // console.log(aid);\r\n          this.props.history.push('/admin')\r\n        });\r\n      }\r\n      render() {\r\n        return (\r\n          <div>\r\n            <h2 className=\"text-center\">Update Bookings</h2>\r\n            <table className=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"hidden\">Airline Id</th>\r\n                  <th>Airline Name</th>\r\n                  <th>Airline Number</th>\r\n                  <th>From</th>\r\n                  <th>To</th>\r\n                  <th>Departure Date</th>\r\n                  <th>Arrival Date</th>\r\n                  <th>Departure Time</th>\r\n                  <th>Arrival Time</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n          \r\n                  <tr>\r\n                    <td>{this.state.airline.id}</td>\r\n                    <td>{this.state.airline.airlineName}</td>\r\n                    <td>{this.state.airline.airlineNo}</td>\r\n                    <td>{this.state.airline.fromCity}</td>\r\n                    <td>{this.state.airline.toCity}</td>\r\n                    <td>{this.state.airline.departureDate}</td>\r\n                    <td>{this.state.airline.arrivalDate}</td>\r\n                    <td>{this.state.airline.departureTime}</td>\r\n                    <td>{this.state.airline.arrivalTime}</td> \r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-success\"\r\n                        onClick={() => this.updateBooking(this.state.airline.id)}\r\n                      >\r\n                        {\" \"}\r\n                        Update All Bookings\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                \r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        );\r\n      }\r\n}\r\nexport default UpdateBookingScreen;"]},"metadata":{},"sourceType":"module"}