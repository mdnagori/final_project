{"ast":null,"code":"var _jsxFileName = \"E:\\\\final_project\\\\Air_visca_frontend\\\\src\\\\screens\\\\TicketHistoryForCustomerScreen.js\";\nimport React, { Component } from \"react\";\nimport UserAPIService from \"../service/UserAPIService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class TicketHistoryForCustomerScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookings: [],\n      message: null\n    };\n    this.reloadBookingList = this.reloadBookingList.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadBookingList();\n  }\n\n  reloadBookingList() {\n    UserAPIService.getbookingsByUserId(window.sessionStorage.getItem(\"userid\")).then(res => {\n      console.log(res);\n      if (res.data.status == \"success\") this.setState({\n        bookings: res.data.data\n      });else this.props.history.push(\"/customer/search_flight\");\n      console.log(this.state.bookings);\n    });\n  }\n\n  postFeedback(bookingId) {\n    sessionStorage.setItem('bid', bookingId);\n    this.props.history.push('/post_Customer_Feedback');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"hidden\",\n              children: \"Booking Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Airline Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"User Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Booking Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Departure Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Arrival Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Fare\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.bookings.map(booking => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.bookingId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.airlineName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.bookingDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.journeyDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.arrivalDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: booking.totalFare\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), booking.status == 1 && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 39\n            }, this), booking.status == 0 && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: () => this.postFeedback(booking.bookingId),\n                children: [\" \", \"Post feedback\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)]\n          }, booking.bookingId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/final_project/Air_visca_frontend/src/screens/TicketHistoryForCustomerScreen.js"],"names":["React","Component","UserAPIService","TicketHistoryForCustomerScreen","constructor","props","state","bookings","message","reloadBookingList","bind","componentDidMount","getbookingsByUserId","window","sessionStorage","getItem","then","res","console","log","data","status","setState","history","push","postFeedback","bookingId","setItem","render","map","booking","airlineName","userName","bookingDate","journeyDate","arrivalDate","totalFare"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport UserAPIService from \"../service/UserAPIService\";\r\nexport default class TicketHistoryForCustomerScreen extends Component{\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bookings: [],\r\n      message: null,\r\n    };\r\n    this.reloadBookingList = this.reloadBookingList.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.reloadBookingList();\r\n  }\r\n\r\n  reloadBookingList() {\r\n    UserAPIService.getbookingsByUserId(window.sessionStorage.getItem(\"userid\"))\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.data.status == \"success\")\r\n            this.setState({ bookings: res.data.data });\r\n          else this.props.history.push(\"/customer/search_flight\");\r\n          console.log(this.state.bookings);\r\n    });\r\n  }\r\n  postFeedback(bookingId){\r\n      sessionStorage.setItem('bid', bookingId);\r\n      this.props.history.push('/post_Customer_Feedback');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2 className=\"text-center\">Bookings</h2>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"hidden\">Booking Id</th>\r\n              <th>Airline Name</th>\r\n              <th>User Name</th>\r\n              <th>Booking Date</th>\r\n              <th>Departure Date</th>\r\n              <th>Arrival Date</th>\r\n              <th>Total Fare</th>\r\n              <th>Status</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.bookings.map((booking) => (\r\n              <tr key={booking.bookingId}>\r\n                <td>{booking.bookingId}</td>\r\n                <td>{booking.airlineName}</td>\r\n                <td>{booking.userName}</td>\r\n                <td>{booking.bookingDate}</td>\r\n                <td>{booking.journeyDate}</td>\r\n                <td>{booking.arrivalDate}</td>\r\n                <td>{booking.totalFare}</td>\r\n                {booking.status==1 && <td>Active</td>}\r\n                {booking.status==0 && <td>Cancelled</td>}\r\n\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-success\"\r\n                    onClick={() => this.postFeedback(booking.bookingId)}\r\n                  >\r\n                    {\" \"}\r\n                    Post feedback\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}